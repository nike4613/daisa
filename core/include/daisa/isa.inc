
#ifdef INSN_ANY
# define _SET_INSN_ARG 1
# define _SET_INSN_NARG 1
# define INSN_ARG_(name, bits, kind) INSN_ANY(name)
# define INSN_NARG(name, bits) INSN_ANY(name)
#endif

#ifndef INSN_ARG_
# define _SET_INSN_ARG 1
# ifndef INSN_ARG
#   define INSN_ARG_(name, highBits, argKind)
# else
#   define INSN_ARG_(name, highBits, argKind) INSN_ARG(name, highBits, argKind)
# endif
#endif
#ifndef INSN_NARG
# define _SET_INSN_NARG 1
# define INSN_NARG(name, lowBits)
#endif

INSN_NARG(NOP, 0b000000)
INSN_ARG_(JF, 0b00001, KIND_IMMREG)
INSN_ARG_(JN, 0b00010, KIND_IMMREG)
INSN_ARG_(Jc, 0b00011, KIND_COND)

INSN_ARG_(CALLN, 0b00100, KIND_IMMREG)
INSN_ARG_(CALLF, 0b00101, KIND_IMMREG)
INSN_NARG(RET, 0b000001)
INSN_ARG_(PUSH, 0b00110, KIND_IMMREG)
INSN_ARG_(POP, 0b00111, KIND_REG)
INSN_NARG(PUSH_CSR, 0b001001)
INSN_NARG(POP_CSR, 0b001010)
INSN_NARG(LDA_CSR, 0b001100)
INSN_NARG(STA_CSR, 0b001101)

INSN_ARG_(LDDS, 0b10000, KIND_IMMREG)
INSN_ARG_(STDS, 0b10001, KIND_REG)
INSN_ARG_(LDSS, 0b10010, KIND_IMMREG)
INSN_ARG_(STSS, 0b10011, KIND_REG)

INSN_ARG_(LDA, 0b01000, KIND_IMMREG)
INSN_ARG_(STA, 0b01001, KIND_REG)
INSN_ARG_(LDM, 0b01010, KIND_IMMREG)
INSN_ARG_(STM, 0b01011, KIND_IMMREG)

INSN_ARG_(SWP, 0b10100, KIND_REG)
INSN_NARG(INC_A, 0b000010)
INSN_NARG(DEC_A, 0b000011)
INSN_ARG_(INC, 0b10101, KIND_REG)
INSN_ARG_(DEC, 0b10110, KIND_REG)
INSN_ARG_(ADC, 0b10111, KIND_IMMREG)
INSN_ARG_(ADD, 0b01100, KIND_IMMREG)
INSN_ARG_(SUB, 0b01101, KIND_IMMREG)
INSN_NARG(SHL, 0b000100)
INSN_NARG(SHR, 0b000101)
INSN_NARG(SRA, 0b010010)
INSN_NARG(ROL, 0b000110)
INSN_NARG(ROR, 0b000111)
INSN_ARG_(AND, 0b01110, KIND_IMMREG)
INSN_ARG_(OR, 0b01111, KIND_IMMREG)
INSN_ARG_(XOR, 0b00000, KIND_IMMREG)
INSN_NARG(CLR, 0b001000)
INSN_NARG(CFLAGS, 0b010001)

INSN_NARG(ENI , 0b001110)
INSN_NARG(DSI , 0b001111)
INSN_NARG(IRET, 0b010000)

INSN_NARG(HLT, 0b001011)

#if _SET_INSN_ARG
# undef INSN_ARG_
#endif
#if _SET_INSN_NARG
# undef INSN_NARG
#endif